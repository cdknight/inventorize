<%= form_with model: @schema, class: :schema_form do |form| %>
    <% if @schema.errors.any? %>
        <b>Could not save schema:</b>
        <% @schema.errors.full_messages.each do |error| %>
            <p><%= error %></p>
        <% end %>
    <% end %>

    <div class="form_container">
        <%= form.label :name %>
        <%= form.text_field :name %>
    </div>

    <div class="form_container schema_form_fields">
        <%= react_component "schema/SchemaCreation", fields: @schema.fields, autofill_mapping: @schema.autofill_mapping, autofill: @schema.autofill, scope: :schema, autofiller: @schema.autofiller, class: "schema_form_fields_react"%>
    </div>

    <%= form.submit class: :action_button %>
<% end %>
